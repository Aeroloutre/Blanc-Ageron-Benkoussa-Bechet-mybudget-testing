<div class="form-container">
  <h2>Ajouter une catégorie</h2>
  
  <div class="error-message" *ngIf="errorMessage">
    <p>{{ errorMessage }}</p>
  </div>

  <form [formGroup]="categorieForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="label">Nom de la catégorie *</label>
      <input 
        type="text" 
        id="label" 
        formControlName="label" 
        placeholder="Ex: Alimentation, Loisirs..."
        [class.error]="categorieForm.get('label')?.invalid && categorieForm.get('label')?.touched"
      />
      <div class="error-message" *ngIf="categorieForm.get('label')?.invalid && categorieForm.get('label')?.touched">
        <small *ngIf="categorieForm.get('label')?.errors?.['required']">Le nom est requis</small>
        <small *ngIf="categorieForm.get('label')?.errors?.['minlength']">Le nom doit contenir au moins 2 caractères</small>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-cancel" (click)="onCancel()" [disabled]="isSubmitting">Annuler</button>
      <button type="submit" class="btn-submit" [disabled]="categorieForm.invalid || isSubmitting">
        {{ isSubmitting ? 'Création...' : 'Créer' }}
      </button>
    </div>
  </form>
</div>
