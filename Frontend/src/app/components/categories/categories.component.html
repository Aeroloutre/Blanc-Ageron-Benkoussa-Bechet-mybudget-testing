<div class="categories-container">
  <h1>Mes Catégories de Budget</h1>
  
  <div *ngIf="loading" class="loading-message">
    <p>Chargement des catégories...</p>
  </div>

  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
    <button (click)="loadCategories()">Réessayer</button>
  </div>
  
  <div class="categories-grid" *ngIf="!loading && !error">
    <div class="category-card" *ngFor="let category of categories" (click)="voirDetails(category.category_id!)">
      <button class="btn-delete" (click)="supprimerCategorie(category.category_id!, $event)" title="Supprimer la catégorie">
        <img src="fermer.png" alt="Supprimer" />
      </button>
      <h3>{{ category.label }}</h3>
      <div class="category-info">
        <p><small>Créée le: {{ category.created_at | date:'short' }}</small></p>
      </div>
    </div>

    <div *ngIf="categories.length === 0" class="no-categories">
      <p>Aucune catégorie pour le moment.</p>
      <p>Commencez par en ajouter une !</p>
    </div>
  </div>
  
  <button class="btn-ajouter" (click)="ajouterCategorie()" [disabled]="loading">+ Ajouter une catégorie</button>
</div>
